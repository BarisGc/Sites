<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta2/css/all.min.css">
<title></title>
</head>
<body>
    <div class="container">
        <div class="row">
          <div class="col-xs-6 col-xs-offset-3 text-center" style="margin-top:20px">
            <p><span id="test" class="lead">Seni neden kenara çektiğimi biliyor musun?</span></p>
            <p>Bu yolun hız sınırı 70 km/h'dir; Ne kadar hızlı gittiğin hakkında bir fikrin var mı?</p>
          </div>
          <div class="col-xs-6 col-xs-offset-3 col-md-2 col-md-offset-5 text-center">
            <input id="speed" type="number" class="form-control" placeholder="Hızını gir">
            <button type="button" id="submit" class="btn btn-primary" style="margin-top:10px">Gönder</button>
          </div>
        </div>
      <!-- Modal -->
      <div class="modal fade" id="result" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              ...
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
              <button type="button" class="btn btn-primary">Save changes</button>
            </div>
          </div>
        </div>
      </div>      
    </div>
    <!-- <div class="modal-backdrop fade show" id="backdrop" style="display: none;"></div> -->
<script>
  
  document.getElementById("submit").addEventListener("click", modalShow);



function writeTicket(speed) {
    let tooSlow = ' minimum hız sınırı 15 km/h dir!',
        justRight = ' örnek bir insansınız.',
        tooFast = ' çok hızlı gidiyorsun. Bir ceza alacaksın!',
        noIdea = 'Demek ne kadar hızlı gittiğinin farkında bile değilsin! O zaman sana ceza yazacağım. Belki bu farkındalığını arttırır.';

    let comments = !speed ? noIdea : speed < 15 ? tooSlow : speed > 40 ? tooFast : justRight;
    let response = !speed ? comments : speed + 'km/h, ' + comments;
    return response;
}



function modalShow() {
  // var speed = $('#speed').val();
  // $('.modal-body').text(writeTicket(speed));
    // $('#result').modal('show');
    
    let kullaniciHIZ = document.getElementById("speed").value; // nedeneventlistener içinden paremetre olarak gönderemedim? bind mi gerekiyor?
    let sonuc = writeTicket(kullaniciHIZ);
    document.querySelector(".modal-body").textContent = sonuc;
    // openModal();
    
    var myModal = new bootstrap.Modal(document.getElementById('result'), {})
    myModal.show()
};

// neden modal js kullanmadan ki hali gibi çalışmıyor?
// function openModal() {
//     document.getElementById("backdrop").style.display = "block"
//     document.getElementById("result").classList.add("show")
//     document.getElementById("result").style.display = "block"
// }
// function closeModal() {
//     document.getElementById("backdrop").style.display = "none"
//     document.getElementById("result").style.display = "none"
//     document.getElementById("result").classList.remove("show")
// }

// window.onclick = function(event) {
//   if (event.target == modal) {
//     closeModal()
//   }
// }
</script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

</body>
</html>